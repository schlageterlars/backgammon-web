@import de.htwg.se.backgammon.model.Player
@(gameController: de.htwg.se.backgammon.controller.IController)

@main("Backgammon") {
  <div id="game" class="m-3">
    <header id="game-header" class="m-3">
      <h1 class="title mb-3">
        Backgammon – <span id="current-player-headline">@gameController.currentPlayer</span> ist am Zug
      </h1>

      <div class="d-flex flex-wrap align-items-center justify-content-between m-6 gap-3">
        <!-- Würfelanzeige -->
        <div class="alert alert-info p-2 mb-0 flex-shrink-0 dice-panel" role="alert">
          <span id="current-player-badge" class="me-2">@gameController.currentPlayer's turn</span>
              <ul class="list-inline mb-0 d-inline">
            @for(d <- gameController.dice) {
              <li class="list-inline-item" aria-label="Würfel">
                <img src='@routes.Assets.versioned("images/dice-" + d + ".png")'
                    alt="Würfel mit Zahl @d"
                    class="dice-img">
              </li>
            }
          </ul>
        </div>

        <!-- Brettgröße -->
        <div class="alert alert-secondary d-flex align-items-center mb-0 flex-shrink-0 board-size-panel" role="alert">
          <strong class="me-3">Brettgröße:</strong>
          <ul id="board-size-switcher" class="list-group list-group-horizontal mb-0">
            <li class="list-group-item list-group-item-action text-center px-4" data-size="small">Klein</li>
            <li class="list-group-item list-group-item-action text-center px-4" data-size="medium">Mittel</li>
            <li class="list-group-item list-group-item-action text-center px-4" data-size="classic">Klassisch</li>
          </ul>
        </div>
      </div>
    </header>

    <!-- Wrapper hält die skalierte Brett-Höhe im Flow -->
    <div id="board-wrapper">
      <main id="board-area">
        @components.board(gameController)
      </main>
    </div>

    <footer id="controls" class="mt-3">
      <form action='@routes.HomeController.undo()' method="get">
        <button class="btn btn-outline-secondary" type="submit">Zug zurücknehmen</button>
      </form>
    </footer>
  </div>

  <script defer src='@routes.Assets.versioned("javascripts/boardSize.js")'></script>
}
