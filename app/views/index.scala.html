@import de.htwg.se.backgammon.model.Player
@(gameController: de.htwg.se.backgammon.controller.IController)

@main("Backgammon") {
  <div id="game" class="m-3">
    <header id="game-header" class="m-3">
      @components.menu(
        brand =   
        Html(s"""
          <h1 class="title">
            Backgammon – <span id="current-player">${gameController.currentPlayer}</span> ist am Zug
          </h1>
          """
        ),
        items = Seq(
          ("Home", routes.HomeController.index().url),
          ("Rules", routes.HomeController.rules.url)
        ),
        idBase = "mainNav",
        expandAt = Some("md")
      )

      <div class="d-flex flex-wrap align-items-center justify-content-between m-6 gap-3">
        <!-- Würfelanzeige -->
        <div class="alert alert-info p-2 mb-0 flex-shrink-0 dice-panel" role="alert">
          <span id="current-player-badge" class="me-2">@gameController.currentPlayer's turn</span>
              <ul class="list-inline mb-0 d-inline">
            @for(d <- gameController.dice) {
              <li class="list-inline-item" aria-label="Würfel">
                <img src='@routes.Assets.versioned("images/dice-" + d + ".png")'
                    alt="Würfel mit Zahl @d"
                    class="dice-img">
              </li>
            }
          </ul>
        </div>

        <!-- Board Zoom -->
        <div id="board-zoom" class="btn-group ms-2" role="group" aria-label="Brettgröße steuern">
          <button type="button" class="btn btn-outline-primary" data-action="decrease" aria-label="Zoom out">
            <i class="bi bi-zoom-out"></i>
          </button>

          <button type="button" class="btn btn-primary" data-action="reset" aria-label="Reset Zoom">
            <i class="bi bi-aspect-ratio"></i> <span id="zoom-display">100%</span>
          </button>

          <button type="button" class="btn btn-outline-primary" data-action="increase" aria-label="Zoom in">
            <i class="bi bi-zoom-in"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- Wrapper hält die skalierte Brett-Höhe im Flow -->
    <div id="board-wrapper">
      <main id="board-area">
        @components.board(gameController)
      </main>
    </div>

    <footer id="controls" class="mt-3">
      <form action='@routes.HomeController.undo()' method="get">
        <button class="btn btn-outline-secondary" type="submit">Zug zurücknehmen</button>
      </form>
    </footer>
  </div>

  <script defer src='@routes.Assets.versioned("javascripts/boardSize.js")'></script>
}
