@()(implicit request: play.api.mvc.MessagesRequestHeader)
@main("Backgammon – Regeln") {
  @* Lade das Stylesheet aus public/stylesheets/rules.css *@
  <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/rules.css")">

  <header>
    <div class="wrap brand">
      <img src="@routes.Assets.versioned("images/logo.png")" alt="Backgammon Logo" class="logo">
      <div>
        <h1>Backgammon – Regeln</h1>
        <p>Ein Spiel für Groß und Klein!</p>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="toc-wrapper">
      <!-- Schnellzugriff oben -->
      <aside class="card aside-card">
        <p class="pill">Schnellzugriff</p>
        <h2>Inhalt</h2>
        <nav class="toc">
          <a href="#aufbau">Aufbau</a>
          <a href="#ziel">Ziel des Spiels</a>
          <a href="#zug">Zugablauf & Regeln</a>
          <a href="#wertungen">Wertungen</a>
          <a href="#cube">Verdopplungswürfel</a>
          <a href="#tipps">Tipps für Einsteiger</a>
        </nav>

        <div style="height:12px"></div>

        <!-- Bild im Schnellzugriff entfernt (wird im Hauptinhalt angezeigt) -->

        <!-- Tipps entfernt aus dem Schnellzugriff; werden im Hauptinhalt angezeigt -->
      </aside>
    </div>

    <div class="grid">
      <!-- Inhalt links -->
      <section class="card">
        <p class="pill">Einführung</p>
        <h2>Worum geht’s?</h2>
        <p>Backgammon ist ein strategisches <strong>Zwei-Personen-Spiel</strong>. Ziel: <em>Alle eigenen Steine zuerst ins Heimfeld bringen und auswürfeln</em> („bearing off“), bevor der/die Gegner:in das schafft.</p>

        <div class="img-placeholder" role="img" aria-label="Backgammon Brett">
          <img src="@routes.Assets.versioned("images/spielbrett.png")" alt="Backgammon Spielbrett" style="width:100%; height:auto; border-radius:12px;">
        </div>

        <h3 id="aufbau">Aufbau</h3>
        <ul>
          <li>Das Brett hat <strong>24 Punkte</strong> (Dreiecke), aufgeteilt in je 12 pro Seite.</li>
          <li>Jede Person hat <strong>15 Steine</strong> in einer vorgegebenen Startposition.</li>
          <li>Es gibt zwei <strong>Heimfelder</strong> (je 6 Punkte) und zwei Außenfelder.</li>
          <li>Gespielt wird mit <strong>zwei Würfeln</strong> (ggf. ein <em>Verdopplungswürfel</em> für Match-Play).</li>
        </ul>

        <h3 id="ziel">Ziel</h3>
        <p>Alle eigenen Steine ins eigene Heimfeld bewegen und anschließend <strong>auswürfeln</strong>. Wer zuerst alle Steine abgetragen hat, gewinnt.</p>

        <h3 id="zug">Zugablauf</h3>
        <ol>
          <li>Beide würfeln zu Beginn einen Würfel: <strong>Höhere Zahl beginnt</strong> und spielt diese Eröffnung mit beiden Würfeln (der Startwurf wird nicht neu geworfen).</li>
          <li>Pro Zug werden die <strong>zwei Würfelzahlen</strong> separat genutzt (z. B. 3 und 5 sind zwei Teilzüge). Ein Stein kann beide Zahlen nacheinander ziehen – oder zwei Steine je eine Zahl.</li>
          <li><strong>Doppelt</strong> (z. B. 4-4): vier Teilzüge dieser Augenzahl.</li>
        </ol>

        <div class="img-placeholder">
          <img src="@routes.Assets.versioned("images/spielbrett.png")" alt="Beispielzug" style="width:100%; height:auto; border-radius:12px;">
        </div>

        <div class="rule">
          <div class="badge">1</div>
          <div>
            <strong>Ziehen & Blocken</strong><br />
            Ein Punkt ist frei, wenn dort <em>kein</em> gegnerischer Stein oder <strong>genau ein</strong> gegnerischer Stein steht (den man „schlagen“ kann). Stehen dort <strong>mindestens zwei</strong> gegnerische Steine, ist der Punkt <em>blockiert</em>.
          </div>
        </div>

        <div class="rule">
          <div class="badge">2</div>
          <div>
            <strong>Schlagen & Bar</strong><br />
            Landest du auf einem Punkt mit <strong>genau einem</strong> gegnerischen Stein, wird dieser <em>geschlagen</em> und auf die <strong>Bar</strong> (Balken) gelegt. Solange du Steine auf der Bar hast, <em>musst</em> du sie zuerst wieder <strong>einsetzen</strong> – mit Würfelzahlen auf freie Punkte im gegnerischen Heimfeld.
          </div>
        </div>

        <div class="rule">
          <div class="badge">3</div>
          <div>
            <strong>Auswürfeln (Bearing Off)</strong><br />
            Erst wenn <strong>alle</strong> deine Steine im eigenen Heimfeld sind, darfst du sie abtragen. Du entfernst einen Stein vom entsprechenden Punkt, der der gewürfelten Augenzahl entspricht. Ist dort kein Stein, darfst du, wenn <em>keine höhere</em> belegte Position existiert, vom <em>höchsten</em> besetzten Punkt abtragen.
          </div>
        </div>

        <div class="rule">
          <div class="badge">4</div>
          <div>
            <strong>Zugpflicht & Möglichkeiten</strong><br />
            Du <em>musst</em> legale Züge ausschöpfen. Ist nur eine Teilzahl spielbar, musst du diese ziehen. Bei <strong>Doppeln</strong> musst du so viele Teilzüge wie möglich nutzen.
          </div>
        </div>

        <h3 id="wertungen">Wertungen</h3>
        <ul>
          <li><strong>Einfacher Sieg:</strong> Gegner hat bereits abgetragen → normaler Punkt.</li>
          <li><strong>Gammon:</strong> Gegner hat <em>keinen</em> Stein abgetragen → doppelte Punkte.</li>
          <li><strong>Backgammon:</strong> Gegner hat keinen Stein abgetragen und hat noch Steine im <em>deinem</em> Heimfeld oder auf der Bar → <em>dreifache</em> Punkte.</li>
        </ul>

        <h3 id="cube">Verdopplungswürfel (optional)</h3>
        <p>Vor dem eigenen Wurf darf man den Einsatz <strong>verdoppeln</strong>. Der/die Gegner:in nimmt an (<em>takes</em>) und erhält das Recht auf die nächste Verdopplung, oder passt (<em>drops</em>) und verliert zum aktuellen Einsatz.</p>

        <div class="note">
          <strong>Hinweis zur Zugrichtung:</strong> Die Spieler:innen ziehen in <em>entgegengesetzte</em> Richtungen. Achte bei Diagrammen/Bildern auf Beschriftungen der Punkte.
        </div>
      </section>

      <!-- Tipps für Einsteiger (aus dem Schnellzugriff herausgenommen) -->
      <section class="card" style="margin-top:18px">
        <p class="pill">Tipps für Einsteiger</p>
        <div class="tips">
          <div class="tip">
            <strong>Priming</strong><br>
            Baue <em>Blockaden</em> (Ketten besetzter Punkte) – sie halten gegnerische Bar-Steine draußen.
          </div>
          <div class="tip">
            <strong>Timing</strong><br>
            Halte Züge flexibel, um spätere <em>Zwangszüge</em> zu vermeiden.
          </div>
          <div class="tip">
            <strong>Sicher vs. mutig</strong><br>
            Abwägen: Risiko zu schlagen & geschlagen zu werden vs. sicher ziehen.
          </div>
          <div class="tip">
            <strong>Trennen</strong><br>
            Isolierte Einzelsteine („Blots") vermeiden – sie sind schlagbar.
          </div>
        </div>
      </section>

      <!-- Entfernte rechte Seitenleiste (Schnellzugriff wurde oben platziert) -->
    </div>

    <footer>
      <small>© Backgammon Kurzguide · Gestaltet mit runden Kanten & sanften Verläufen.</small>
    </footer>
  </main>

}
